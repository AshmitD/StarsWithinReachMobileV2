{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/ashmitdewan/StarsWithinReachMobileV2/Screens/CreatePostScreen.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport Contants from 'expo-constants';\nimport * as Permissions from 'expo-permissions';\nimport Fire from \"../Fire\";\nimport Oreo from \"../Components/oreo.png\";\nimport * as ImagePicker from 'expo-image-picker';\n\nrequire(\"firebase/firestore\");\n\nvar ProfilePage = function (_React$Component) {\n  _inherits(ProfilePage, _React$Component);\n\n  var _super = _createSuper(ProfilePage);\n\n  function ProfilePage() {\n    var _this;\n\n    _classCallCheck(this, ProfilePage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      text: \"\",\n      image: '../Components/oreo.png'\n    };\n\n    _this.getPhotoPermissions = function _callee() {\n      var _await$Permissions$as, status;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!Contants.platform.ios) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));\n\n            case 3:\n              _await$Permissions$as = _context.sent;\n              status = _await$Permissions$as.status;\n\n              if (status != \"granted\") {\n                alert(\"We need permissions to access your camera roll\");\n              }\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.handlePost = function () {\n      Fire.shared.addPost({\n        text: _this.state.text.trim(),\n        localUri: _this.state.image\n      }).then(function (ref) {\n        _this.setState({\n          text: \"\",\n          image: '../Components/oreo.png'\n        });\n\n        _this.props.navigation.navigate(\"Home\");\n      }).catch(function (error) {\n        alert(\"Your entry is not valid\");\n      });\n    };\n\n    _this.pickImage = function _callee2() {\n      var result;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n                mediaTypes: ImagePicker.MediaTypeOptions.Images,\n                allowsEditing: true,\n                aspect: [4, 3]\n              }));\n\n            case 2:\n              result = _context2.sent;\n\n              if (!result.cancelled) {\n                _this.setState({\n                  image: result.uri\n                });\n              }\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    return _this;\n  }\n\n  _createClass(ProfilePage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getPhotoPermissions();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(SafeAreaView, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: styles.header,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.back,\n        onPress: function onPress() {\n          return _this2.props.navigation.navigate(\"Home\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }\n      }, React.createElement(Ionicons, {\n        name: \"ios-arrow-round-back\",\n        size: 24,\n        color: \"black\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 18\n        }\n      })), React.createElement(TouchableOpacity, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: \"500\",\n          marginTop: 5\n        },\n        onPress: this.handlePost,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }\n      }, \"Post\"))), React.createElement(View, {\n        style: styles.inputContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, React.createElement(Image, {\n        source: require(\"../Components/oreo.png\"),\n        style: styles.avatar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }\n      }), React.createElement(TextInput, {\n        autoFocus: true,\n        multiline: true,\n        numberOfLines: 4,\n        style: {\n          flex: 1\n        },\n        placeholder: \"Want to share something?\",\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            text: text\n          });\n        },\n        value: this.state.text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      })), React.createElement(TouchableOpacity, {\n        style: styles.photo,\n        onPress: this.pickImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }\n      }, React.createElement(Ionicons, {\n        name: \"md-camera\",\n        size: 32,\n        color: \"lightgrey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }\n      })), React.createElement(View, {\n        style: {\n          marginHorizontal: 32,\n          marginTop: 32,\n          height: 150\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }\n      }, React.createElement(Image, {\n        source: {\n          uri: this.state.image\n        },\n        style: {\n          width: \"100%\",\n          height: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }\n      })));\n    }\n  }]);\n\n  return ProfilePage;\n}(React.Component);\n\nexport { ProfilePage as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  back: {\n    width: 32,\n    height: 32,\n    borderRadius: 21,\n    alignItems: 'center',\n    backgroundColor: \"rgba(21,22,48,0.1)\",\n    justifyContent: 'center'\n  },\n  header: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingHorizontal: 32,\n    paddingVertical: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: \"#D8D9DB\"\n  },\n  inputContainer: {\n    margin: 32,\n    flexDirection: 'row'\n  },\n  avatar: {\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    marginRight: 16\n  },\n  photo: {\n    alignItems: \"flex-end\",\n    marginHorizontal: 32\n  }\n});","map":{"version":3,"sources":["/Users/ashmitdewan/StarsWithinReachMobileV2/Screens/CreatePostScreen.js"],"names":["React","Ionicons","Contants","Permissions","Fire","Oreo","ImagePicker","require","ProfilePage","state","text","image","getPhotoPermissions","platform","ios","askAsync","CAMERA_ROLL","status","alert","handlePost","shared","addPost","trim","localUri","then","ref","setState","props","navigation","navigate","catch","error","pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspect","result","cancelled","uri","styles","header","back","fontWeight","marginTop","inputContainer","avatar","flex","photo","marginHorizontal","height","width","Component","StyleSheet","create","container","borderRadius","alignItems","backgroundColor","justifyContent","flexDirection","paddingHorizontal","paddingVertical","borderBottomWidth","borderBottomColor","margin","marginRight"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {View, Text, StyleSheet,SafeAreaView, TouchableOpacity, Image, TextInput} from 'react-native'\nimport {Ionicons} from \"@expo/vector-icons\"\nimport Contants from 'expo-constants'\nimport * as Permissions from 'expo-permissions'\nimport Fire from '../Fire'\nimport Oreo from '../Components/oreo.png'\nimport * as ImagePicker from 'expo-image-picker'\n\n// const firebase = require('firebase');\nrequire(\"firebase/firestore\");\n\nexport default class ProfilePage extends React.Component{\n    state = {\n        text: \"\",\n        image: '../Components/oreo.png'\n    }\n\n    componentDidMount() {\n        this.getPhotoPermissions()\n    }\n    getPhotoPermissions = async () => {\n        if(Contants.platform.ios) {\n            const {status} = await Permissions.askAsync(Permissions.CAMERA_ROLL)\n\n            if(status != \"granted\") {\n                alert(\"We need permissions to access your camera roll\")\n            }\n        }\n    }\n\n\n    handlePost = () => {\n        \n        Fire.shared.addPost({text: this.state.text.trim(), localUri: this.state.image})\n        .then(ref => {\n            this.setState({text: \"\", image: '../Components/oreo.png'})\n            this.props.navigation.navigate(\"Home\")\n        })\n        .catch(error => {\n            alert(\"Your entry is not valid\")\n        })\n    }\n\n    pickImage = async () => {\n      \n        let result = await ImagePicker.launchImageLibraryAsync({\n           mediaTypes: ImagePicker.MediaTypeOptions.Images,\n           allowsEditing: true,\n           aspect: [4,3] \n        })\n       \n        if(!result.cancelled) {\n            this.setState({image: result.uri})\n        }\n    }\n    render() {\n        return (\n          <SafeAreaView>\n              <View style = {styles.header}>\n              <TouchableOpacity style ={styles.back} onPress={() => this.props.navigation.navigate(\"Home\")}>\n                 <Ionicons name = \"ios-arrow-round-back\" size ={24} color = \"black\"></Ionicons>\n             </TouchableOpacity>\n            <TouchableOpacity>\n                <Text style = {{fontWeight: \"500\",marginTop: 5,}} onPress ={this.handlePost}>Post</Text>\n            </TouchableOpacity>\n            </View>\n\n            <View style = {styles.inputContainer}>\n                <Image source = {require('../Components/oreo.png')} style = {styles.avatar}></Image>\n                <TextInput autoFocus = {true} multiline = {true} numberOfLines={4} style = {{flex: 1,}} placeholder = \"Want to share something?\" onChangeText={text => this.setState({text})} value ={this.state.text}></TextInput>\n\n\n            </View>\n            <TouchableOpacity style = {styles.photo} onPress = {this.pickImage}>\n                <Ionicons name = \"md-camera\" size = {32} color = \"lightgrey\"></Ionicons>\n            </TouchableOpacity>\n\n            <View style = {{marginHorizontal: 32, marginTop: 32, height: 150}}>\n                <Image source = {{uri: this.state.image}} style ={{width: \"100%\",height: \"100%\"}}></Image>\n            </View>\n\n\n          </SafeAreaView>\n        )\n    }\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        \n    },\n    back: {\n        \n        \n        width: 32,\n        height: 32,\n        borderRadius: 21,\n        alignItems: 'center',\n        backgroundColor: \"rgba(21,22,48,0.1)\",\n        justifyContent: 'center'\n    },\n    header: {\n        flexDirection: \"row\",\n         justifyContent: \"space-between\",\n         paddingHorizontal: 32,\n         paddingVertical: 12,\n         borderBottomWidth: 1,\n         borderBottomColor: \"#D8D9DB\",\n    }, \n    inputContainer: {\n        margin: 32,\n        flexDirection: 'row'\n    },\n    avatar: {\n        width: 48, \n        height: 48,\n        borderRadius: 24,\n        marginRight: 16,\n    }, \n    photo: {\n        alignItems: \"flex-end\",\n        marginHorizontal: 32,\n    }\n})"]},"metadata":{},"sourceType":"module"}